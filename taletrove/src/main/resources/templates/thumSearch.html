<html layout:decorate="~{layout}">
<div layout:fragment="content" class="container my-3">
  <div>
    <h1>썸네일을 입력해주시면 비슷한 웹툰을 추천해드립니다!</h1>
    <div></div>
  </div>
  <div>
    <form id="image-form" enctype="multipart/form-data">
      <input type="file" id="image-input" accept="image/*">
      <button type="button" id="submit-button">전송</button>
    </form>
  </div>
</div>
  <script>
    document.getElementById('submit-button').addEventListener('click', function() {
    const imageInput = document.getElementById('image-input');

    if (imageInput.files && imageInput.files[0]) {
      const reader = new FileReader();

      reader.onload = function(e) {
        const base64Image = e.target.result;
        sendImageToServer(base64Image);
      };

      reader.readAsDataURL(imageInput.files[0]);
    }
  });

  function sendImageToServer(base64Image) {
    const apiUrl = 'https://api.example.com/upload-image';

    fetch(apiUrl, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({
        image: base64Image,
      }),
    })
    .then(response => response.json())
    .then(data => {
      // 서버의 응답을 처리하는 로직을 추가합니다.
    })
    .catch(error => {
      console.error('Error:', error);
    });
  }
  </script>
</html>